{"version":3,"file":"static/webpack/static/development/pages/index.js.fabf0d4d4aaad63e225f.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import {connect} from \"react-redux\";\nimport { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport LoginPage from '../components/LoginPage'\nimport RegistrationPage from '../components/RegistrationPage'\nimport { createUser } from '../reducers/usersSlice'\n\nconst App = styled.main`\n  font-size: ${({ theme }) => theme.fontSize.base};\n  text-align: center;\n  form {\n    margin: 0 auto;\n    max-width: 30rem;\n    display: flex;\n    flex-flow: column nowrap;\n  }\n  legend {\n    margin: 1rem auto;\n    font-size: 1.2rem;\n  }\n  & > p {\n    margin: 1rem 0 0 ;\n  }\n  `\n\nfunction HomePage(props) {\n  const [userObj, setUserObj] = useState({})\n  const [toggleLogin, setToggleLogin] = useState(false)\n  const notLoggedIn = Object.keys(userObj).length === 0\n\n  useEffect(() => {\n    if (notLoggedIn) {\n      console.log('Please login.')\n    } else {\n      console.log({userObj})\n    }\n  }, [userObj])\n\n  const hideRegistration = () => {\n    setToggleLogin(!toggleLogin)\n  }\n\n  console.log({props})\n  \n  return (\n    <App>\n      {\n        notLoggedIn ? (\n        <>\n          <h1>Welcome to {props.custom.title}</h1>\n          {\n            toggleLogin ?\n            <>\n              <LoginPage setUserObj={setUserObj} />\n              <p>Need to register?</p>\n              <button onClick={hideRegistration}>Register</button>\n            </>\n            :\n            <>\n              <RegistrationPage />\n              <p>Already registered?</p>\n              <button onClick={hideRegistration}>Login</button>\n            </>\n          }\n        </>\n        ) : ( \n          <>\n            <p>Logged in</p>\n            <div>{ JSON.stringify(userObj) }</div>\n          </>\n        )\n      }\n    </App>\n  )\n}\n\nHomePage.getInitialProps = ({store, isServer, pathname, query}) => {\n  store.dispatch(createUser({id: 1, username: 'asdf'}));\n  return { custom: {title: 'JustSwap.it'} }; // pass custom props with an {object} containing key [custom]\n}\n\nexport default connect(state => state)(HomePage);"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAgBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;;;;A","sourceRoot":""}